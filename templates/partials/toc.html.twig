{# Render table of contents block #}
<div class="col-double">
    {# Generate links #}
    {% set level = base_indent %}
    {% for entry in toc.list if (toc.baselevel <= entry.level) and (entry.level <= toc.headinglevel) %}

      {# Create list markup for headings #}
      {% if entry.indent > level %}
        {% for i in 1..(entry.indent - level) %}
          <ul>
        {% endfor %}
      {% elseif entry.indent < level %}
        {% for i in 1..(level - entry.indent) %}
          </ul></div>
        {% endfor %}
      {% endif %}

      {# Set current level to heading level #}
      {% set level = entry.indent %}

      {% if level == 0 %}
        <div class="faq-menu__item"><h3>{{ entry.text }}</h3>
      {% else %}
        <li><a href="#{{ entry.id }}" class="toclink" title="{{ entry.text }}">{{ entry.text }}</a></li>
      {% endif %}
    {% endfor %}

    {# Add missing closing tags #}
    {% if (level - base_indent) > 0 %}
      {% for i in 1..(level - base_indent) %}
        </ul></div><!--- end of toc --->
      {% endfor %}
    {% endif %}
</div>
